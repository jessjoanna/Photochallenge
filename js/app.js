!function e(t,n,r){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return o(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e){function t(){Window.Application=new n,Backbone.history.start()}var n=(e("hbsfy/runtime"),e("./classes/routers/Application.js"));t()},{"./classes/routers/Application.js":10,"hbsfy/runtime":22}],2:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<header>\n	<h2>Add Group</h2>\n</header>\n\n<input type="text" name="groupname" class="groupname" value="" placeholder="groupname">\n<input type="submit" name="" class="add" value="submit">\n'},useData:!0})},{"hbsfy/runtime":22}],3:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",s=t.helperMissing,a=this.escapeExpression;return'<a href="#" class="goGroup"><p class="groupnaam">'+a((o=null!=(o=t.groupname||(null!=e?e.groupname:e))?o:s,typeof o===i?o.call(e,{name:"groupname",hash:{},data:r}):o))+'</p></a>\n<a href="#" class="addMe">+</a>\n\n'},useData:!0})},{"hbsfy/runtime":22}],4:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,n,r){var o,i="function",s=t.helperMissing,a=this.escapeExpression;return"<header>\n	<h2>"+a((o=null!=(o=t.groupname||(null!=e?e.groupname:e))?o:s,typeof o===i?o.call(e,{name:"groupname",hash:{},data:r}):o))+'</h2>\n</header>\n\n<a href="#">Terug</a>\n'},useData:!0})},{"hbsfy/runtime":22}],5:[function(e,t){var n=e("hbsfy/runtime");t.exports=n.template({compiler:[6,">= 2.0.0-beta.1"],main:function(){return'<a class="logout" href="index.php?page=logout">Logout</a>\n\n<header>\n	<h2>Groepen</h2>\n</header>\n\n<section class="groups">\n	<a href="#" class="add_group">+</a>\n	<div class="tbody"></div>\n</section>\n'},useData:!0})},{"hbsfy/runtime":22}],6:[function(e,t){var n=e("../models/Group.js"),r=Backbone.Collection.extend({model:n,url:"api/group/",initialize:function(e){e&&(console.log(this.groupname),this.groupname=e.groupname)},comparator:function(e){return e.get("groupname")},methodUrl:function(e){return"read"===e&&this.groupname?void(this.url="api/group/"+this.groupname):void(this.url="api/group")},sync:function(e,t,n){t.methodUrl&&t.methodUrl(e.toLowerCase())&&(n=n||{},n.url=t.methodUrl(e.toLowerCase())),Backbone.Collection.prototype.sync.apply(this,arguments)}});t.exports=r},{"../models/Group.js":8}],7:[function(e,t){var n=e("../models/User.js"),r=Backbone.Collection.extend({model:n,url:"api/users/",initialize:function(e){e&&(this.par=e.user)},methodUrl:function(e){return"read"===e&&this.par?void(this.url="api/users/"+this.par):void(this.url="api/users")},sync:function(e,t,n){t.methodUrl&&t.methodUrl(e.toLowerCase())&&(n=n||{},n.url=t.methodUrl(e.toLowerCase())),Backbone.Collection.prototype.sync.apply(this,arguments)}});t.exports=r},{"../models/User.js":9}],8:[function(e,t){var n=Backbone.Model.extend({defaults:{day:"",start_date:"",groupname:""},urlRoot:"api/group"});t.exports=n},{}],9:[function(e,t){var n=Backbone.Model.extend({defaults:{username:"",picture:"",password:"",role:""},urlRoot:"api/users"});t.exports=n},{}],10:[function(e,t){var n=e("../views/HomeView.js"),r=e("../views/GroupAddView.js"),o=e("../views/GroepDetailView.js"),i=Backbone.Router.extend({routes:{home:"home",addGroup:"addGroup","group/:groupname":"group","*actions":"default"},logout:function(){window.location.replace("index.php")},empty:function(){$(".container").empty()},home:function(){this.empty(),this.home=new n,$(".container").append(this.home.render().el)},addGroup:function(){this.empty(),this.addgroep=new r,$(".container").append(this.addgroep.render().el)},group:function(e){this.empty(),this.group=new o({groupname:e}),$(".container").append(this.group.render().el)},"default":function(){this.navigate("home",{trigger:!0})}});t.exports=i},{"../views/GroepDetailView.js":11,"../views/GroupAddView.js":13,"../views/HomeView.js":14}],11:[function(e,t){var n=e("../../../_hbs/groep_detail.hbs"),r=e("../models/Group.js"),o=Backbone.View.extend({template:n,section:"section",className:"groepdetail",initialize:function(e){e&&e.groupname&&(this.model=new r,this.model.set("groupname",e.groupname),this.model.fetch({success:function(e,t){0===t.length&&Window.Application.navigate("home",{trigger:!0})}}),this.listenTo(this.model,"sync",this.render))},render:function(){return this.$el.html(this.template(this.model.attributes)),this}});t.exports=o},{"../../../_hbs/groep_detail.hbs":4,"../models/Group.js":8}],12:[function(e,t){var n=e("../../../_hbs/groepOverzicht.hbs"),r=e("../collections/UserCollection.js"),o=e("../models/User.js"),i=Backbone.View.extend({template:n,className:"groep",tagName:"div",events:{"click .goGroup":"clickGroup","click .addMe":"clickAdd"},initialize:function(){this.user=new r({user:"self"}),this.listenTo(this.user,"sync",this.setGroup),this.user.fetch(),this.userNow=new o},setGroup:function(){console.log(this.user.models[0].attributes.id),console.log(this.user.models[0]),this.userNow.set("id",this.user.models[0].attributes.id),this.userNow.fetch({success:function(e,t){0===t.length&&console.log("fout")}}),console.log(this.userNow)},clickAdd:function(e){e.preventDefault(),console.log(this.model.get("id")),this.userNow.set("group_id",this.model.get("id")),this.userNow.save(),Window.Application.navigate("group/"+this.model.get("groupname"),{trigger:!0})},clickGroup:function(e){e.preventDefault(),Window.Application.navigate("group/"+this.model.get("groupname"),{trigger:!0})},render:function(){return this.$el.html(this.template(this.model.attributes)),this}});t.exports=i},{"../../../_hbs/groepOverzicht.hbs":3,"../collections/UserCollection.js":7,"../models/User.js":9}],13:[function(e,t){var n=e("../../../_hbs/add_group.hbs"),r=e("../collections/GroupCollection.js"),o=e("../collections/UserCollection.js"),i=(e("../models/User.js"),Backbone.View.extend({template:n,tagName:"section",className:"group-add",events:{"click .add":"clickAdd"},initialize:function(){this.groupCollection=new r,this.listenTo(this.groupCollection,"sync",this.renderGroups),this.groupCollection.fetch(),this.setUser()},setUser:function(){this.user=new o({user:"self"}),this.listenTo(this.user,"sync",this.renderUsers),this.user.fetch(),console.log(this.user.models.group_id)},renderGroups:function(){console.log("aantal groepen:"+this.groupCollection.length)},renderUsers:function(){this.userNow=this.user.models[0].attributes.group_id},clickAdd:function(e){e.preventDefault(),""===this.$el.find(".groupname").val()&&this.$el.find(".groupname").addClass("error"),this.groupCollection.create({groupname:this.$el.find(".groupname").val(),day:0,start_date:moment().format("YYYY-MM-DD")}),Window.Application.navigate("home",{trigger:!0})},render:function(){return this.$el.html(this.template),this}}));t.exports=i},{"../../../_hbs/add_group.hbs":2,"../collections/GroupCollection.js":6,"../collections/UserCollection.js":7,"../models/User.js":9}],14:[function(e,t){var n=e("../../../_hbs/home.hbs"),r=e("../collections/GroupCollection.js"),o=e("../views/GroepOverzichtView.js"),i=Backbone.View.extend({template:n,tagName:"section",className:"groepen",events:{"click .add_group":"clickAddGroup"},initialize:function(){this.groupCollection=new r,this.listenTo(this.groupCollection,"sync",this.renderGroups),this.groupCollection.fetch()},clickAddGroup:function(e){e.preventDefault(),this.navigateTo("addGroup")},navigateTo:function(e){Window.Application.navigate(e,{trigger:!0})},renderGroups:function(){this.$users.empty(),this.groupCollection.forEach(this.renderGroup,this)},renderGroup:function(e){var t=new o({model:e});this.$users.append(t.render().el)},render:function(){return this.$el.html(this.template),this.$users=this.$el.find(".tbody"),this}});t.exports=i},{"../../../_hbs/home.hbs":5,"../collections/GroupCollection.js":6,"../views/GroepOverzichtView.js":12}],15:[function(e,t,n){"use strict";var r=e("./handlebars/base"),o=e("./handlebars/safe-string")["default"],i=e("./handlebars/exception")["default"],s=e("./handlebars/utils"),a=e("./handlebars/runtime"),l=function(){var e=new r.HandlebarsEnvironment;return s.extend(e,r),e.SafeString=o,e.Exception=i,e.Utils=s,e.escapeExpression=s.escapeExpression,e.VM=a,e.template=function(t){return a.template(t,e)},e},u=l();u.create=l,u["default"]=u,n["default"]=u},{"./handlebars/base":16,"./handlebars/exception":17,"./handlebars/runtime":18,"./handlebars/safe-string":19,"./handlebars/utils":20}],16:[function(e,t,n){"use strict";function r(e,t){this.helpers=e||{},this.partials=t||{},o(this)}function o(e){e.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new s("Missing helper: '"+arguments[arguments.length-1].name+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var r=n.inverse,o=n.fn;if(t===!0)return o(this);if(t===!1||null==t)return r(this);if(c(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):r(this);if(n.data&&n.ids){var s=g(n.data);s.contextPath=i.appendContextPath(n.data.contextPath,n.name),n={data:s}}return o(t,n)}),e.registerHelper("each",function(e,t){if(!t)throw new s("Must pass iterator to #each");var n,r,o=t.fn,a=t.inverse,l=0,u="";if(t.data&&t.ids&&(r=i.appendContextPath(t.data.contextPath,t.ids[0])+"."),p(e)&&(e=e.call(this)),t.data&&(n=g(t.data)),e&&"object"==typeof e)if(c(e))for(var h=e.length;h>l;l++)n&&(n.index=l,n.first=0===l,n.last=l===e.length-1,r&&(n.contextPath=r+l)),u+=o(e[l],{data:n});else for(var d in e)e.hasOwnProperty(d)&&(n&&(n.key=d,n.index=l,n.first=0===l,r&&(n.contextPath=r+d)),u+=o(e[d],{data:n}),l++);return 0===l&&(u=a(this)),u}),e.registerHelper("if",function(e,t){return p(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||i.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){p(e)&&(e=e.call(this));var n=t.fn;if(i.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var r=g(t.data);r.contextPath=i.appendContextPath(t.data.contextPath,t.ids[0]),t={data:r}}return n(e,t)}),e.registerHelper("log",function(t,n){var r=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(r,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}var i=e("./utils"),s=e("./exception")["default"],a="2.0.0";n.VERSION=a;var l=6;n.COMPILER_REVISION=l;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1"};n.REVISION_CHANGES=u;var c=i.isArray,p=i.isFunction,h=i.toString,d="[object Object]";n.HandlebarsEnvironment=r,r.prototype={constructor:r,logger:f,log:m,registerHelper:function(e,t){if(h.call(e)===d){if(t)throw new s("Arg not supported with multiple helpers");i.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){h.call(e)===d?i.extend(this.partials,e):this.partials[e]=t},unregisterPartial:function(e){delete this.partials[e]}};var f={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(f.level<=e){var n=f.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};n.logger=f;var m=f.log;n.log=m;var g=function(e){var t=i.extend({},e);return t._parent=e,t};n.createFrame=g},{"./exception":17,"./utils":20}],17:[function(e,t,n){"use strict";function r(e,t){var n;t&&t.firstLine&&(n=t.firstLine,e+=" - "+n+":"+t.firstColumn);for(var r=Error.prototype.constructor.call(this,e),i=0;i<o.length;i++)this[o[i]]=r[o[i]];n&&(this.lineNumber=n,this.column=t.firstColumn)}var o=["description","fileName","lineNumber","message","name","number","stack"];r.prototype=new Error,n["default"]=r},{}],18:[function(e,t,n){"use strict";function r(e){var t=e&&e[0]||1,n=p;if(t!==n){if(n>t){var r=h[n],o=h[t];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+o+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function o(e,t){if(!t)throw new c("No environment passed to template");if(!e||!e.main)throw new c("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var n=function(n,r,o,i,s,a,l,p,h){s&&(i=u.extend({},i,s));var d=t.VM.invokePartial.call(this,n,o,i,a,l,p,h);if(null==d&&t.compile){var f={helpers:a,partials:l,data:p,depths:h};l[o]=t.compile(n,{data:void 0!==p,compat:e.compat},t),d=l[o](i,f)}if(null!=d){if(r){for(var m=d.split("\n"),g=0,v=m.length;v>g&&(m[g]||g+1!==v);g++)m[g]=r+m[g];d=m.join("\n")}return d}throw new c("The partial "+o+" could not be compiled when running in runtime-only mode")},r={lookup:function(e,t){for(var n=e.length,r=0;n>r;r++)if(e[r]&&null!=e[r][t])return e[r][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:u.escapeExpression,invokePartial:n,fn:function(t){return e[t]},programs:[],program:function(e,t,n){var r=this.programs[e],o=this.fn(e);return t||n?r=i(this,e,o,t,n):r||(r=this.programs[e]=i(this,e,o)),r},data:function(e,t){for(;e&&t--;)e=e._parent;return e},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n=u.extend({},t,e)),n},noop:t.VM.noop,compilerInfo:e.compiler},o=function(t,n){n=n||{};var i=n.data;o._setup(n),!n.partial&&e.useData&&(i=l(t,i));var s;return e.useDepths&&(s=n.depths?[t].concat(n.depths):[t]),e.main.call(r,t,r.helpers,r.partials,i,s)};return o.isTop=!0,o._setup=function(n){n.partial?(r.helpers=n.helpers,r.partials=n.partials):(r.helpers=r.merge(n.helpers,t.helpers),e.usePartial&&(r.partials=r.merge(n.partials,t.partials)))},o._child=function(t,n,o){if(e.useDepths&&!o)throw new c("must pass parent depths");return i(r,t,e[t],n,o)},o}function i(e,t,n,r,o){var i=function(t,i){return i=i||{},n.call(e,t,e.helpers,e.partials,i.data||r,o&&[t].concat(o))};return i.program=t,i.depth=o?o.length:0,i}function s(e,t,n,r,o,i,s){var a={partial:!0,helpers:r,partials:o,data:i,depths:s};if(void 0===e)throw new c("The partial "+t+" could not be found");return e instanceof Function?e(n,a):void 0}function a(){return""}function l(e,t){return t&&"root"in t||(t=t?d(t):{},t.root=e),t}var u=e("./utils"),c=e("./exception")["default"],p=e("./base").COMPILER_REVISION,h=e("./base").REVISION_CHANGES,d=e("./base").createFrame;n.checkRevision=r,n.template=o,n.program=i,n.invokePartial=s,n.noop=a},{"./base":16,"./exception":17,"./utils":20}],19:[function(e,t,n){"use strict";function r(e){this.string=e}r.prototype.toString=function(){return""+this.string},n["default"]=r},{}],20:[function(e,t,n){"use strict";function r(e){return u[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}function i(e){return e instanceof l?e.toString():null==e?"":e?(e=""+e,p.test(e)?e.replace(c,r):e):e+""}function s(e){return e||0===e?f(e)&&0===e.length?!0:!1:!0}function a(e,t){return(e?e+".":"")+t}var l=e("./safe-string")["default"],u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},c=/[&<>"'`]/g,p=/[&<>"'`]/;n.extend=o;var h=Object.prototype.toString;n.toString=h;var d=function(e){return"function"==typeof e};d(/x/)&&(d=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)});var d;n.isFunction=d;var f=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===h.call(e):!1};n.isArray=f,n.escapeExpression=i,n.isEmpty=s,n.appendContextPath=a},{"./safe-string":19}],21:[function(e,t){t.exports=e("./dist/cjs/handlebars.runtime")},{"./dist/cjs/handlebars.runtime":15}],22:[function(e,t){t.exports=e("handlebars/runtime")["default"]},{"handlebars/runtime":21}]},{},[1]);
//# sourceMappingURL=app.js.map